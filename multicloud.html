<!DOCTYPE html>
<html lang="it-IT">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Come essere multi-cloud in 5 semplici passi | Zena Software</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Consulenza tecnologie Big Data e Cloud">
    <meta content="Uscire dalla gabbia dorata del vostro provider cloud è possibile, basta seguire questi 5 (in realtà 4) semplici passi.">
    
    <link rel="preload" href="/assets/css/0.styles.eb95a9dd.css" as="style"><link rel="preload" href="/assets/js/app.a2df8847.js" as="script"><link rel="preload" href="/assets/js/2.61b454c1.js" as="script"><link rel="preload" href="/assets/js/5.2f0f6adc.js" as="script"><link rel="preload" href="/assets/js/9.5055760e.js" as="script"><link rel="prefetch" href="/assets/js/10.13e980c8.js"><link rel="prefetch" href="/assets/js/11.4fda546e.js"><link rel="prefetch" href="/assets/js/12.0ae2261a.js"><link rel="prefetch" href="/assets/js/13.5c1f4866.js"><link rel="prefetch" href="/assets/js/14.bdc856fe.js"><link rel="prefetch" href="/assets/js/15.e89b47ed.js"><link rel="prefetch" href="/assets/js/16.5ea0211c.js"><link rel="prefetch" href="/assets/js/3.2fb56fba.js"><link rel="prefetch" href="/assets/js/4.09f84c1d.js"><link rel="prefetch" href="/assets/js/6.40cfdc13.js"><link rel="prefetch" href="/assets/js/7.35a44985.js"><link rel="prefetch" href="/assets/js/8.6759414c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.eb95a9dd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zena Software</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="come-essere-multi-cloud-in-5-semplici-passi"><a href="#come-essere-multi-cloud-in-5-semplici-passi" class="header-anchor">#</a> Come essere multi-cloud in 5 semplici passi</h1> <p><img src="/assets/img/multicloud.f0ad02ee.jpg" alt="Happy clouds"></p> <h3 id="perche-multi-cloud"><a href="#perche-multi-cloud" class="header-anchor">#</a> Perché multi-cloud?</h3> <p>Uno dei concetti più importanti dell’ingegneria è quello dell’<em>availability</em> o disponibilità. Un business per funzionare nell’era di internet deve essere altamente disponibile.</p> <p>Andare nel cloud significa  delegare il mantenimento della disponibilità al nostro provider. Ad esempio AWS di Amazon ha il concetto di <a href="https://aws.amazon.com/it/compute/sla/#Service_Credits" target="_blank" rel="noopener noreferrer"><em>Service Credits</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Se per qualche motivo non è riuscita a garantirci un 95.0% di uptime in un determinato mese, ci riaccredita l’intero prezzo del servizio. In molti casi questo prezzo è solo una frazione dei guadagni persi, per questo avere un sistema multi-cloud potrebbe essere appetibile. Quando AWS è giù possiamo dirottare il nostro traffico su un secondo cloud.</p> <p>Un’altro motivo per cui il multi-cloud può rientrare nella strategia aziendale è ancora più semplice da capire. Nel momento in cui ci leghiamo ad un particolare provider, questo a sua volta comprensibilmente cerca di saldare il legame il più possibile. Tornando all’esempio di AWS, ci sono una miriade di servizi offerti da cui poi diventa difficoltoso prescindere. Se ad esempio decidiamo di far gestire l’elenco degli utenti e password da Amazon Cognito e poi optiamo per una seconda soluzione, la migrazione rappresenterà un grosso problema anche per i nostri utenti, che saranno costretti a cambiare la password.</p> <p><img src="/assets/img/kubernetes.f7d7aadd.jpg" alt="Kubernetes logo"></p> <h3 id="kubernetes-significa-timoniere"><a href="#kubernetes-significa-timoniere" class="header-anchor">#</a> Kubernetes significa timoniere</h3> <p>Kubernetes è una tecnologia che ci permette di catturare la complessa struttura del nostro business sotto forma di codice. Con questo possiamo effettuare il deployment nel cloud di nostra scelta, con in aggiunta la possibilità di testare in locale sul nostro computer.
Questa pratica si chiama <em>infrastructure as a code</em> e permette di fotografare tutta la nostra infrastruttura con quello che contiene e di poterla replicare con un click in diversi cloud.
Tutti i maggiori cloud provider oggi supportano Kubernetes (inizialmente sviluppato da Google ma poi reso open source).</p> <h2 id="un-sito-wordpress-altamente-disponibile"><a href="#un-sito-wordpress-altamente-disponibile" class="header-anchor">#</a> Un sito Wordpress altamente disponibile</h2> <p>In 5 semplici passi vi spiegherò come rilasciare un semplice sito Wordpress in un cluster Kubernetes locale.</p> <h3 id="passo-0"><a href="#passo-0" class="header-anchor">#</a> Passo 0</h3> <p>Assicuratevi di avere un gestore di pacchetti installato, io userò <a href="https://brew.sh/index_it" target="_blank" rel="noopener noreferrer">Homebrew<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> perché ho un mac, se invece avete Linux dovete seguire le guide di installazione nei siti dei relativi software.</p> <h3 id="passo-1"><a href="#passo-1" class="header-anchor">#</a> Passo 1</h3> <p>Installate Kubernetes localmente con i seguenti comandi:</p> <div class="language- extra-class"><pre><code>brew install kubernetes-cli
brew cask install minikube
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Linux</p> <p>Su Linux i comandi diventano</p> <div class="language- extra-class"><pre><code>sudo apt-get update
sudo apt-get install -y apt-transport-https
sudo apt-get upgrade
sudo apt install -y virtualbox virtualbox-ext-pack
wget https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
chmod +x minikube-linux-amd64
sudo mv minikube-linux-amd64 /usr/local/bin/minikube
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
echo &quot;deb http://apt.kubernetes.io/ kubernetes-xenial main&quot; | sudo tee /etc/apt/sources.list.d/kubernetes.list
sudo apt update
sudo apt -y install kubectl
</code></pre></div></div> <h3 id="passo-2"><a href="#passo-2" class="header-anchor">#</a> Passo 2</h3> <p>Installate Helm che è una specie di gestore di pacchetti di Kubernetes. Possiamo dire che Homebrew sta al mac come Helm sta a Kubernetes. Questi pacchetti non sono altro che ricette pronte per i software più comuni, in gergo sono chiamate <em>chart</em>. Ad esempio noi useremo un chart per Wordpress. Lanciate il seguente comando</p> <div class="language- extra-class"><pre><code>brew install kubernetes-helm
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">Linux</p> <p>Su Linux possiamo usare snap per installare Helm (<code>snap</code> è preinstallato nelle versioni più recenti di Ubuntu)</p> <div class="language- extra-class"><pre><code>sudo snap install helm --classic
</code></pre></div></div> <h3 id="passo-3"><a href="#passo-3" class="header-anchor">#</a> Passo 3</h3> <p>Fate partire minikube</p> <div class="language- extra-class"><pre><code>minikube start
</code></pre></div><p>Minikube è un cluster Kubernetes che gira sul vostro computer, utile per imparare.</p> <h3 id="passo-4"><a href="#passo-4" class="header-anchor">#</a> Passo 4</h3> <p>Installare Tiller</p> <div class="language- extra-class"><pre><code>helm init
</code></pre></div><p>Tiller è la parte server di Helm, viene installato dentro il vostro cluster Kubernetes (in questo caso minikube).</p> <h3 id="passo-5"><a href="#passo-5" class="header-anchor">#</a> Passo 5</h3> <p>Per effettuare il deploy di Wordpress usiamo un chart già pronto di Helm</p> <div class="language- extra-class"><pre><code>helm install stable/wordpress
</code></pre></div><p>Prendete nota del risultato di questo comando. In particolare copiate il nome del servizio di tipo <code>LoadBalancer</code>:</p> <div class="language- extra-class"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-text"><code>NAME:   icy-pike
... altro output ...

==&gt; v1/Service
NAME                TYPE          CLUSTER-IP     EXTERNAL-IP  PORT(S)                     AGE
icy-pike-mariadb    ClusterIP     10.100.216.23  &lt;none&gt;       3306/TCP                    0s
icy-pike-wordpress  LoadBalancer  10.98.5.64     &lt;pending&gt;    80:30316/TCP,443:30662/TCP  0s

... eccetera ...
</code></pre></div><p>Nel mio caso è <code>icy-pike-wordpress</code>.</p> <h4 id="congratulazioni"><a href="#congratulazioni" class="header-anchor">#</a> Congratulazioni!</h4> <p>Avete fatto il deploy di Wordpress nel cluster di Kubernetes. Per verificare il risultato avete bisogno di collegarvi al cluster. Siccome stiamo simulando tutto localmente è necessario un ulteriore comando:</p> <div class="language- extra-class"><pre><code>minikube service icy-pike-wordpress
</code></pre></div><p>Sostituite il nome del servizio con quanto copiato nell’ultimo passo. Questo farà aprire Wordpress nel vostro browser!</p> <p><img src="/assets/img/wordpress-fresh.fb29deab.png" alt="Wordpress"></p> <div class="custom-block danger"><p class="custom-block-title">HTTPS</p> <p>Per qualche motivo potrebbero aprirsi due diversi tab, uno per <code>HTTP</code> e uno <code>HTTPS</code>, se quello con <code>HTTPS</code> è sbagliato vi comparirà un errore, potete semplicemente chiuderlo.</p></div> <h2 id="multi-cloud-in-pratica"><a href="#multi-cloud-in-pratica" class="header-anchor">#</a> Multi-cloud in pratica</h2> <p>Adesso che avete rilasciato un Wordpress perfettamente funzionante sul vostro computer, potete fare la stessa cosa su un cloud vero e proprio. I passi sono gli stessi. Per essere precisi il passo 3 è necessario solo per un ambiente di sviluppo.
Questa piccola dimostrazione ha come scopo solo quello di dare un idea di quanto Kubernetes semplifichi il processo di migrare da un cloud all’altro, certamente il discorso è amplissimo ma spero di aver acceso la vostra curiosità.</p> <hr> <p><a href="https://www.linkedin.com/in/gurghet/?locale=it_ITs" target="_blank" rel="noopener noreferrer"><em>Andrea Passaglia</em><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">
    Comment Form
  </a> is loading comments...
</div></p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a2df8847.js" defer></script><script src="/assets/js/2.61b454c1.js" defer></script><script src="/assets/js/5.2f0f6adc.js" defer></script><script src="/assets/js/9.5055760e.js" defer></script>
  </body>
</html>
