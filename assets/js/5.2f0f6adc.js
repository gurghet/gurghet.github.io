(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{372:function(e,a,s){e.exports=s.p+"assets/img/multicloud.f0ad02ee.jpg"},373:function(e,a,s){e.exports=s.p+"assets/img/kubernetes.f7d7aadd.jpg"},374:function(e,a,s){e.exports=s.p+"assets/img/wordpress-fresh.fb29deab.png"},395:function(e,a,s){"use strict";s.r(a);var i=s(9),t=Object(i.a)({},(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"come-essere-multi-cloud-in-5-semplici-passi"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#come-essere-multi-cloud-in-5-semplici-passi"}},[e._v("#")]),e._v(" Come essere multi-cloud in 5 semplici passi")]),e._v(" "),i("p",[i("img",{attrs:{src:s(372),alt:"Happy clouds"}})]),e._v(" "),i("h3",{attrs:{id:"perche-multi-cloud"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#perche-multi-cloud"}},[e._v("#")]),e._v(" Perché multi-cloud?")]),e._v(" "),i("p",[e._v("Uno dei concetti più importanti dell’ingegneria è quello dell’"),i("em",[e._v("availability")]),e._v(" o disponibilità. Un business per funzionare nell’era di internet deve essere altamente disponibile.")]),e._v(" "),i("p",[e._v("Andare nel cloud significa  delegare il mantenimento della disponibilità al nostro provider. Ad esempio AWS di Amazon ha il concetto di "),i("a",{attrs:{href:"https://aws.amazon.com/it/compute/sla/#Service_Credits",target:"_blank",rel:"noopener noreferrer"}},[i("em",[e._v("Service Credits")]),i("OutboundLink")],1),e._v(". Se per qualche motivo non è riuscita a garantirci un 95.0% di uptime in un determinato mese, ci riaccredita l’intero prezzo del servizio. In molti casi questo prezzo è solo una frazione dei guadagni persi, per questo avere un sistema multi-cloud potrebbe essere appetibile. Quando AWS è giù possiamo dirottare il nostro traffico su un secondo cloud.")]),e._v(" "),i("p",[e._v("Un’altro motivo per cui il multi-cloud può rientrare nella strategia aziendale è ancora più semplice da capire. Nel momento in cui ci leghiamo ad un particolare provider, questo a sua volta comprensibilmente cerca di saldare il legame il più possibile. Tornando all’esempio di AWS, ci sono una miriade di servizi offerti da cui poi diventa difficoltoso prescindere. Se ad esempio decidiamo di far gestire l’elenco degli utenti e password da Amazon Cognito e poi optiamo per una seconda soluzione, la migrazione rappresenterà un grosso problema anche per i nostri utenti, che saranno costretti a cambiare la password.")]),e._v(" "),i("p",[i("img",{attrs:{src:s(373),alt:"Kubernetes logo"}})]),e._v(" "),i("h3",{attrs:{id:"kubernetes-significa-timoniere"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-significa-timoniere"}},[e._v("#")]),e._v(" Kubernetes significa timoniere")]),e._v(" "),i("p",[e._v("Kubernetes è una tecnologia che ci permette di catturare la complessa struttura del nostro business sotto forma di codice. Con questo possiamo effettuare il deployment nel cloud di nostra scelta, con in aggiunta la possibilità di testare in locale sul nostro computer.\nQuesta pratica si chiama "),i("em",[e._v("infrastructure as a code")]),e._v(" e permette di fotografare tutta la nostra infrastruttura con quello che contiene e di poterla replicare con un click in diversi cloud.\nTutti i maggiori cloud provider oggi supportano Kubernetes (inizialmente sviluppato da Google ma poi reso open source).")]),e._v(" "),i("h2",{attrs:{id:"un-sito-wordpress-altamente-disponibile"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#un-sito-wordpress-altamente-disponibile"}},[e._v("#")]),e._v(" Un sito Wordpress altamente disponibile")]),e._v(" "),i("p",[e._v("In 5 semplici passi vi spiegherò come rilasciare un semplice sito Wordpress in un cluster Kubernetes locale.")]),e._v(" "),i("h3",{attrs:{id:"passo-0"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#passo-0"}},[e._v("#")]),e._v(" Passo 0")]),e._v(" "),i("p",[e._v("Assicuratevi di avere un gestore di pacchetti installato, io userò "),i("a",{attrs:{href:"https://brew.sh/index_it",target:"_blank",rel:"noopener noreferrer"}},[e._v("Homebrew"),i("OutboundLink")],1),e._v(" perché ho un mac, se invece avete Linux dovete seguire le guide di installazione nei siti dei relativi software.")]),e._v(" "),i("h3",{attrs:{id:"passo-1"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#passo-1"}},[e._v("#")]),e._v(" Passo 1")]),e._v(" "),i("p",[e._v("Installate Kubernetes localmente con i seguenti comandi:")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("brew install kubernetes-cli\nbrew cask install minikube\n")])])]),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[e._v("Linux")]),e._v(" "),i("p",[e._v("Su Linux i comandi diventano")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v('sudo apt-get update\nsudo apt-get install -y apt-transport-https\nsudo apt-get upgrade\nsudo apt install -y virtualbox virtualbox-ext-pack\nwget https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\nchmod +x minikube-linux-amd64\nsudo mv minikube-linux-amd64 /usr/local/bin/minikube\ncurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -\necho "deb http://apt.kubernetes.io/ kubernetes-xenial main" | sudo tee /etc/apt/sources.list.d/kubernetes.list\nsudo apt update\nsudo apt -y install kubectl\n')])])])]),e._v(" "),i("h3",{attrs:{id:"passo-2"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#passo-2"}},[e._v("#")]),e._v(" Passo 2")]),e._v(" "),i("p",[e._v("Installate Helm che è una specie di gestore di pacchetti di Kubernetes. Possiamo dire che Homebrew sta al mac come Helm sta a Kubernetes. Questi pacchetti non sono altro che ricette pronte per i software più comuni, in gergo sono chiamate "),i("em",[e._v("chart")]),e._v(". Ad esempio noi useremo un chart per Wordpress. Lanciate il seguente comando")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("brew install kubernetes-helm\n")])])]),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[e._v("Linux")]),e._v(" "),i("p",[e._v("Su Linux possiamo usare snap per installare Helm ("),i("code",[e._v("snap")]),e._v(" è preinstallato nelle versioni più recenti di Ubuntu)")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("sudo snap install helm --classic\n")])])])]),e._v(" "),i("h3",{attrs:{id:"passo-3"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#passo-3"}},[e._v("#")]),e._v(" Passo 3")]),e._v(" "),i("p",[e._v("Fate partire minikube")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("minikube start\n")])])]),i("p",[e._v("Minikube è un cluster Kubernetes che gira sul vostro computer, utile per imparare.")]),e._v(" "),i("h3",{attrs:{id:"passo-4"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#passo-4"}},[e._v("#")]),e._v(" Passo 4")]),e._v(" "),i("p",[e._v("Installare Tiller")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("helm init\n")])])]),i("p",[e._v("Tiller è la parte server di Helm, viene installato dentro il vostro cluster Kubernetes (in questo caso minikube).")]),e._v(" "),i("h3",{attrs:{id:"passo-5"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#passo-5"}},[e._v("#")]),e._v(" Passo 5")]),e._v(" "),i("p",[e._v("Per effettuare il deploy di Wordpress usiamo un chart già pronto di Helm")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("helm install stable/wordpress\n")])])]),i("p",[e._v("Prendete nota del risultato di questo comando. In particolare copiate il nome del servizio di tipo "),i("code",[e._v("LoadBalancer")]),e._v(":")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("div",{staticClass:"highlight-lines"},[i("br"),i("br"),i("br"),i("br"),i("br"),i("br"),i("div",{staticClass:"highlighted"},[e._v(" ")]),i("br"),i("br"),i("br")]),i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[e._v("NAME:   icy-pike\n... altro output ...\n\n==> v1/Service\nNAME                TYPE          CLUSTER-IP     EXTERNAL-IP  PORT(S)                     AGE\nicy-pike-mariadb    ClusterIP     10.100.216.23  <none>       3306/TCP                    0s\nicy-pike-wordpress  LoadBalancer  10.98.5.64     <pending>    80:30316/TCP,443:30662/TCP  0s\n\n... eccetera ...\n")])])]),i("p",[e._v("Nel mio caso è "),i("code",[e._v("icy-pike-wordpress")]),e._v(".")]),e._v(" "),i("h4",{attrs:{id:"congratulazioni"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#congratulazioni"}},[e._v("#")]),e._v(" Congratulazioni!")]),e._v(" "),i("p",[e._v("Avete fatto il deploy di Wordpress nel cluster di Kubernetes. Per verificare il risultato avete bisogno di collegarvi al cluster. Siccome stiamo simulando tutto localmente è necessario un ulteriore comando:")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("minikube service icy-pike-wordpress\n")])])]),i("p",[e._v("Sostituite il nome del servizio con quanto copiato nell’ultimo passo. Questo farà aprire Wordpress nel vostro browser!")]),e._v(" "),i("p",[i("img",{attrs:{src:s(374),alt:"Wordpress"}})]),e._v(" "),i("div",{staticClass:"custom-block danger"},[i("p",{staticClass:"custom-block-title"},[e._v("HTTPS")]),e._v(" "),i("p",[e._v("Per qualche motivo potrebbero aprirsi due diversi tab, uno per "),i("code",[e._v("HTTP")]),e._v(" e uno "),i("code",[e._v("HTTPS")]),e._v(", se quello con "),i("code",[e._v("HTTPS")]),e._v(" è sbagliato vi comparirà un errore, potete semplicemente chiuderlo.")])]),e._v(" "),i("h2",{attrs:{id:"multi-cloud-in-pratica"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#multi-cloud-in-pratica"}},[e._v("#")]),e._v(" Multi-cloud in pratica")]),e._v(" "),i("p",[e._v("Adesso che avete rilasciato un Wordpress perfettamente funzionante sul vostro computer, potete fare la stessa cosa su un cloud vero e proprio. I passi sono gli stessi. Per essere precisi il passo 3 è necessario solo per un ambiente di sviluppo.\nQuesta piccola dimostrazione ha come scopo solo quello di dare un idea di quanto Kubernetes semplifichi il processo di migrare da un cloud all’altro, certamente il discorso è amplissimo ma spero di aver acceso la vostra curiosità.")]),e._v(" "),i("hr"),e._v(" "),i("p",[i("a",{attrs:{href:"https://www.linkedin.com/in/gurghet/?locale=it_ITs",target:"_blank",rel:"noopener noreferrer"}},[i("em",[e._v("Andrea Passaglia")]),i("OutboundLink")],1)]),e._v(" "),i("p",[i("htmlcommentbox")],1)])}),[],!1,null,null,null);a.default=t.exports}}]);