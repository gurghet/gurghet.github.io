(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{375:function(t,a,s){t.exports=s.p+"assets/img/typescript-logo.3c3a13a9.jpeg"},376:function(t,a,s){t.exports=s.p+"assets/img/editor-iniziale.6ea47c94.png"},377:function(t,a,s){t.exports=s.p+"assets/img/prima-versione.6e29cfd8.png"},378:function(t,a,s){t.exports=s.p+"assets/img/inaccettabile.72d32af7.jpg"},379:function(t,a,s){t.exports=s.p+"assets/img/errore-length-non-definito.7fab772c.png"},380:function(t,a,s){t.exports=s.p+"assets/img/augusto.4d388274.png"},396:function(t,a,s){"use strict";s.r(a);var n=s(9),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"typescript-e-meglio"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#typescript-e-meglio"}},[t._v("#")]),t._v(" Typescript è meglio")]),t._v(" "),n("p",[n("img",{attrs:{src:s(375),alt:"Typescript logo"}})]),t._v(" "),n("p",[t._v("Typescript è un linguaggio simile a Javascript ma con molti vantaggi rispetto ad esso. La caratteristica principale è il supporto dei tipi. Questo si traduce immediatamente nella possibilità di intercettare molti errori direttamente nell’ambiente di sviluppo, un refactoring più semplice ed affidabile e nella possibilità di usare l’autocompletamento quando stiamo scrivendo il codice.")]),t._v(" "),n("p",[t._v("Se siete esperti di Javascript ma non ve la sentite di imparare un nuovo linguaggio, beh niente paura: Javascript "),n("em",[t._v("è")]),t._v(" Typescript! Quando Microsoft ha creato questo linguaggio ha praticamente preso Javascript e ha reso i tipi opzionali, quindi un qualsiasi codice Javascript vale come Typescript.")]),t._v(" "),n("p",[t._v("Ovviamente il contrario non è vero. Un programma Typescript ha bisogno di essere compilato per generare Javascript, ma questo, come vedremo fra poco, è una procedura alquanto semplice.")]),t._v(" "),n("h2",{attrs:{id:"creiamo-un-applicazione-di-esempio"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#creiamo-un-applicazione-di-esempio"}},[t._v("#")]),t._v(" Creiamo un’applicazione di esempio")]),t._v(" "),n("p",[t._v("Nel tutorial che segue andremo a creare una piccola applicazione che da linea di comando chiede il nostro nome (con insistenza!) e ci saluta.")]),t._v(" "),n("h3",{attrs:{id:"preparazione-ambiente-di-sviluppo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#preparazione-ambiente-di-sviluppo"}},[t._v("#")]),t._v(" Preparazione ambiente di sviluppo")]),t._v(" "),n("p",[t._v("Prima di tutto installa Typescript")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("npm install -g typescript\n")])])]),n("p",[t._v("Poi crea una directory in cui potrai svolgere il lavoretto. All’interno inizializza un progetto con "),n("code",[t._v("yarn")]),t._v(" o "),n("code",[t._v("npm")]),t._v(", userò quest’ultimo.")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("npm init\nnpm install --save @types/node\n")])])]),n("p",[t._v("Con l’ultimo comando hai installato "),n("code",[t._v("@types/node")]),t._v(" che ti darà accesso ai tipi per interfacciarsi con le API di Node.")]),t._v(" "),n("p",[t._v("Per questo tutorial userò VS Code, ma qualunque IDE che supporta Typescript dovrebbe andare.")]),t._v(" "),n("p",[t._v("Ecco quello che dovresti vedere:\n"),n("img",{attrs:{src:s(376),alt:"Editor iniziale"}})]),t._v(" "),n("h1",{attrs:{id:"programma-in-stile-javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#programma-in-stile-javascript"}},[t._v("#")]),t._v(" Programma in stile Javascript")]),t._v(" "),n("p",[t._v("Nella cartella del progetto crea un nuovo file "),n("code",[t._v("index.ts")]),t._v(" dove l’estensione "),n("code",[t._v(".ts")]),t._v(" sta ad indicare che si tratta di un programma Typescript.")]),t._v(" "),n("p",[t._v("Il seguente è la prima versione del programma.")]),t._v(" "),n("div",{staticClass:"language-Typescript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createInterface "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'readline'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getStrLn")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createInterface")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      input"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      output"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    rl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("question")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'> '")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" answer "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      rl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("answer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("putStrLn")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" msg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("askName")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("putStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Ciao, come ti chiami?'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("askName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("putStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Heylà ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Prima di descrivere brevemente cosa succede, lancia il programma con il seguente comando")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("ts-node index.ts\n")])])]),n("p",[t._v("Se tutto va bene dovresti riuscire ad interagire con un semplice programma.\n"),n("img",{attrs:{src:s(377),alt:"Prima versione programma"}})]),t._v(" "),n("p",[t._v("Il codice che hai appena scritto è Javascript al 99% se non fosse che Node non capisce i moduli (il comando "),n("code",[t._v("import")]),t._v(" alla prima riga) potresti tranquillamente farlo girare su Node.")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("Retrocompatibilità")]),t._v(" "),n("p",[t._v("Prova a sostituire l’"),n("code",[t._v("import")]),t._v(" con un "),n("code",[t._v("require")]),t._v(" e lancia l’applicazione con "),n("code",[t._v("node index.ts")]),t._v(" per convincerti che è Javascript valido.")])]),t._v(" "),n("h3",{attrs:{id:"mini-spiegazione"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mini-spiegazione"}},[t._v("#")]),t._v(" Mini spiegazione")]),t._v(" "),n("p",[t._v("La prima funzione "),n("code",[t._v("getStrLn")]),t._v(" restituisce una "),n("code",[t._v("Promise")]),t._v(" che, grazie alle API di Node prende una linea da linea di comando, questa verra restituita “risolvendo” la promessa. "),n("code",[t._v("putStrLn")]),t._v(" prende una stringa e la scrive a console, niente di nuovo sotto il sole. Infine mettiamo tutto insieme alla fine. Con "),n("code",[t._v("askName")]),t._v(" chiediamo il nome e usiamo il risultato della promessa per stampare un saluto a schermo.")]),t._v(" "),n("p",[t._v("Se hai dei dubbi scrivi pure un commento sotto, cercherò di rispondere il prima possibile.")]),t._v(" "),n("h2",{attrs:{id:"gestione-degli-errori"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gestione-degli-errori"}},[t._v("#")]),t._v(" Gestione degli errori?")]),t._v(" "),n("p",[t._v("Cosa succede al nostro programma se diamo invio senza scrivere alcunché? Saluta una stringa vuota; totalmente inaccettabile!")]),t._v(" "),n("p",[n("img",{attrs:{src:s(378),alt:"inaccettabile!!"}})]),t._v(" "),n("p",[t._v("Vogliamo che il programma ci ripeta la domanda insistentemente finché non rispondiamo.")]),t._v(" "),n("p",[t._v("Ok, come fare?")]),t._v(" "),n("p",[t._v("Raccogliamo tutti i comandi sparsi alla fine in una più ordinata e professionale funzione:")]),t._v(" "),n("div",{staticClass:"language-Typescript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("main")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("askName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("putStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Heylà ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("Da qui possiamo controllare se il nome è una stringa vuota e chiedere di nuovo il nome:")]),t._v(" "),n("div",{staticClass:"language-Typescript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("main")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("askName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("putStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Heylà ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("A questo punto, se usi Code o un ambiente di sviluppo avanzato, dovresti già vedere sottolineato l’errore di compilazione. Per gli altri basta provare a lanciare il programma e...\n"),n("img",{attrs:{src:s(379),alt:"errore: length non esiste per il tipo unknown"}})]),t._v(" "),n("p",[t._v("Sembra che il compilatore si lamenti del fatto che "),n("code",[t._v("name")]),t._v(", in quanto di tipo sconosciuto, non abbia una proprietà chiamata "),n("code",[t._v("length")]),t._v(". Questo è il sistema di tipi che entra in azione e ci aiuta a prevenire il classico errore runtime. Per dimostrare al compilatore che abbiamo ragione noi possiamo dichiarare "),n("code",[t._v("name")]),t._v(" come tipo stringa.")]),t._v(" "),n("div",{staticClass:"language-Typescript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("main")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("askName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("putStrLn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Heylà ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" \n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("Perfetto, lanciamo il programma e...\n"),n("img",{attrs:{src:s(380),alt:"senza nome e poi augusto"}})]),t._v(" "),n("p",[t._v("Tutto sembra funzionare.")]),t._v(" "),n("div",{staticClass:"custom-block danger"},[n("p",{staticClass:"custom-block-title"},[t._v("Programma non stack-safe")]),t._v(" "),n("p",[t._v("Da notare che il programma che abbiamo scritto non è certo pronto per un rilascio in produzione. In particolare se rifiutiamo di dare il nome abbastanza volte Node esaurirà la memoria perché dovrà allocare lo spazio per chiamare la funzione "),n("code",[t._v("main")]),t._v(" molte volte. Bisognerebbe trasformare la chiamata ricorsiva in un ciclo.")])]),t._v(" "),n("h3",{attrs:{id:"conclusione"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#conclusione"}},[t._v("#")]),t._v(" Conclusione")]),t._v(" "),n("p",[t._v("È possibile imparare il Typescript passo passo, partendo da codice Javascript e aggiungendo i tipi quando serve. Con una curva di apprendimento più lieve, possiamo lasciare per dopo caratteristiche avanzate del linguaggio e portare comunque avanti il lavoro.\nTypescript ci permette di avere un Javascript più corretto con l’aiuto del compilatore, il tempo impiegato ad impararlo sicuramente ripaga in fretta e grazie ai tipi statici è più difficile malinterpretare il codice stritto da un nostro collega e più facile leggerlo.")]),t._v(" "),n("p",[t._v("Typescript è meglio... di Javascript. Onestamente non ci vuole molto, ma typescript si deve portare dietro tutti i difetti di JS. In prossimo articolo vorrei parlare di Purescript o Elm, due linguaggi che compilano a Javavascript ma decisamente più potenti.")]),t._v(" "),n("hr"),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.linkedin.com/in/gurghet/?locale=it_ITs",target:"_blank",rel:"noopener noreferrer"}},[n("em",[t._v("Andrea Passaglia")]),n("OutboundLink")],1)]),t._v(" "),n("p",[n("htmlcommentbox")],1)])}),[],!1,null,null,null);a.default=e.exports}}]);